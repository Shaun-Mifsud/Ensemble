{"version":3,"file":"default-src_app_event_event_page_ts.js","mappings":"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","sources":["./src/app/event/event.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { EnsembleService } from '../services/ensemble.service';\r\nimport { Ensemble,Event,Score,User } from '../struct/ensemble';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { imageComponent } from '../components/image/image.component';\r\n\r\n\r\n@Component({\r\n  selector: 'app-event',\r\n  templateUrl: './event.page.html',\r\n  styleUrls: ['./event.page.scss'],\r\n})\r\nexport class EventPage implements OnInit {\r\n\r\n  private eventID:any;\r\n  private ensembleID:any;\r\n\r\n  public selectedEnsemble: Ensemble | undefined;\r\n  public selectedEvent: Event | undefined;\r\n  public eventPic: any;\r\n  public eventScores: Score[] | undefined;\r\n\r\n  //dummy data\r\n  public attending=[\r\n    {\r\n    name:'John Micallef',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Shaun Mifsud',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Redd Caruana',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Emmanuel Giordimaina',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Walter Muscat',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Shawn Bugeja',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Timothy xuereb',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Erica Schembri',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Jeanclaude Simiana',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Paul Mifsud',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Mark Mifsud',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Samuel Grech',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Justin Caruana',\r\n    phone:79123456\r\n    },\r\n    {\r\n    name:'Benji Magro',\r\n    phone:79123456\r\n    },\r\n    {\r\n      name:'Gabriel Farrugia',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Kieran camilleri Bianco',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Alex Attard',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Jayden Aquilina',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Luke Mifsud',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Peter Pantelic',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Andy Attard',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Luke Micallef',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Bernard Borg',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Matthew Falzon',\r\n      phone:79123456\r\n    },\r\n    {\r\n      name:'Jake Ellul',\r\n      phone:79123456\r\n    },\r\n];\r\n\r\n  constructor(    \r\n    private router: Router, \r\n    private route: ActivatedRoute,\r\n    public ensembleService: EnsembleService,\r\n    private domSanitizer: DomSanitizer,\r\n    private modalCTRL: ModalController) { \r\n\r\n    }\r\n    \r\n\r\n  ngOnInit() {\r\n    // event navigation\r\n    this.router.events.subscribe(nav => {\r\n      if (nav instanceof ActivatedRoute)\r\n      {\r\n        console.log(\"Link changed.\");        \r\n      }\r\n    });\r\n\r\n        //get ID the user selected from URL\r\n        console.log(\"route is: \"+ this.route);\r\n        this.eventID=parseInt(this.route.snapshot.params['eventId']);\r\n        \r\n        //get event by ID\r\n        this.selectedEvent=this.ensembleService.getEventByID(this.eventID);\r\n        console.log(\"Event ID: \"+ this.eventID);\r\n    \r\n        if (this.selectedEvent === undefined)\r\n        {\r\n          console.log(\"Event not found!\");\r\n          return;\r\n        }\r\n\r\n        //sanitize event image if available\r\n        this.eventPic = this.domSanitizer.bypassSecurityTrustResourceUrl(this.selectedEvent.image);\r\n        console.log(\"event pic: \", this.eventPic);\r\n        \r\n\r\n        //get ensemble by ID\r\n        this.ensembleID=parseInt(this.route.snapshot.params['ensembleId']);\r\n        console.log(\"ensemble ID in event: \"+ this.ensembleID);\r\n\r\n        this.selectedEnsemble=this.ensembleService.getEnsembleByID(this.ensembleID);\r\n\r\n        if (this.selectedEnsemble === undefined)\r\n        {\r\n          console.log(\"Ensemble not found!\");\r\n          return;\r\n        }\r\n\r\n        //get scores by event\r\n        this.eventScores=[];\r\n\r\n        if(this.selectedEvent.scores){\r\n\r\n          for( var i = 0; i < this.selectedEvent.scores.length; i++){\r\n            console.log(\"in loop: \",i);\r\n            \r\n            this.eventScores.push(this.ensembleService.getScoreByID(this.selectedEvent.scores[i]));\r\n          }\r\n          console.log(\"event Scores: \",this.eventScores);\r\n        }\r\n    \r\n  }\r\n\r\n  async showImageModal(){\r\n    const imageModal = await this.modalCTRL.create({\r\n      component:imageComponent,\r\n      componentProps:{eventImage:this.selectedEvent.image},\r\n      cssClass:'imageModal'\r\n    })\r\n\r\n    await imageModal.present();\r\n    \r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}