{"version":3,"file":"src_app_score-details_score-details_module_ts.js","mappings":"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","sources":["./src/app/score-details/score-details-routing.module.ts","./src/app/score-details/score-details.module.ts","./src/app/score-details/score-details.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ScoreDetailsPage } from './score-details.page';\r\n\r\nimport { CommonModule } from '@angular/common';\r\n\r\nconst routes: Routes = [\r\n/*  {\r\n    path: '',\r\n    children:[\r\n      //if NO scoreID is present, redirect to tabs/tab2\r\n      {\r\n        path: '',\r\n        redirectTo: '/tabs/tab2',\r\n        pathMatch: 'full'\r\n      },\r\n\r\n      //if scoreID is present, load score detail page\r\n      {\r\n        path:':scoreID',\r\n        component:ScoreDetailsPage\r\n      }\r\n    ]\r\n  } */\r\n  {\r\n    path: '',\r\n    component: ScoreDetailsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes),CommonModule],\r\n  exports: [RouterModule,CommonModule],\r\n})\r\nexport class ScoreDetailsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ScoreDetailsPageRoutingModule } from './score-details-routing.module';\r\n\r\nimport { ScoreDetailsPage } from './score-details.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ScoreDetailsPageRoutingModule\r\n  ],\r\n  declarations: [ScoreDetailsPage]\r\n})\r\nexport class ScoreDetailsPageModule {}\r\n","import { LEADING_TRIVIA_CHARS } from '@angular/compiler/src/render3/view/template';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { EnsembleService } from '../services/ensemble.service';\r\nimport { Part, Recording, Score } from '../struct/ensemble';\r\n\r\nimport { ModalController } from '@ionic/angular';\r\nimport { NewEventComponent } from '../components/new-event/new-event.component';\r\n\r\n\r\n@Component({\r\n  selector: 'app-score-details',\r\n  templateUrl: './score-details.page.html',\r\n  styleUrls: ['./score-details.page.scss'],\r\n})\r\nexport class ScoreDetailsPage implements OnInit {\r\n\r\n  //default tab\r\n  selectedtab: string= \"score\";\r\n  public scoreID:any;\r\n  public selectedScore: Score | undefined;\r\n  public scoreEvents: any; \r\n  public parts: Part[];\r\n  public selectedPart:number;\r\n\r\n  //public recordings: Recording[];\r\n  public urlPath:string[] | undefined;\r\n\r\n  //variables used to contain each respective part from the selected score\r\n  //categories variables\r\n  // public orchestra: { name: string, parts: Part[], rec }\r\n  public strings:Part[] = [];\r\n  public woodwind:Part[] = [];\r\n  public brass:Part[] = [];\r\n  public percussion:Part[] = [];\r\n  public other:Part[] = [];\r\n\r\n  // Audio\r\n  sound= new Audio;\r\n  isPlaying= false;\r\n\r\n  constructor(private route: ActivatedRoute,\r\n              private router:Router,\r\n              public ensembleService: EnsembleService,\r\n              private modalCtrl:ModalController) { }\r\n\r\n  ngOnInit() { \r\n    \r\n    //get scoreID from URL\r\n    this.scoreID=parseInt(this.route.snapshot.params['scoreID']);\r\n    console.log(\"Selected score ID: \"+ this.scoreID);\r\n    \r\n    //get score by ID\r\n    this.selectedScore=this.ensembleService.getScoreByID(this.scoreID);    \r\n\r\n    //get parts from selectedscore\r\n    this.parts= this.selectedScore.parts;\r\n    console.log(\"All parts: \", this.parts);\r\n\r\n    //get events by scoreID\r\n    this.scoreEvents = this.ensembleService.getEventsByScoreID(this.scoreID);      \r\n    console.log(\"Events by score: \", this.scoreEvents);\r\n    \r\n\r\n    if(this.selectedScore.type == 'static' && this.parts){\r\n      //get partFamily and place them in categories variables aggording to family\r\n\r\n      //string\r\n      let stringList = Object.values(this.parts.filter(f => f.partFamiliy == 'string'));\r\n      console.log(\"string list: \",stringList);    \r\n\r\n      for(let list in stringList){\r\n        const instrument = stringList[list];\r\n        instrument.recordings = this.ensembleService.getRecordingsByPart(this.scoreID,instrument.partID) || [];\r\n        this.strings.push(instrument);\r\n      }\r\n\r\n      //woodwind\r\n      let woodwindList = Object.values(this.parts.filter(f => f.partFamiliy == 'woodwind'));\r\n\r\n      for(let list in woodwindList){\r\n        const instrument = woodwindList[list];\r\n        instrument.recordings = this.ensembleService.getRecordingsByPart(this.scoreID,instrument.partID) || [];\r\n        this.woodwind.push(woodwindList[list]);\r\n      }\r\n\r\n      //brass\r\n      let brassList = Object.values(this.parts.filter(f => f.partFamiliy == 'brass'));\r\n\r\n      for(let list in brassList){\r\n        const instrument = brassList[list];\r\n        \r\n        instrument.recordings = this.ensembleService.getRecordingsByPart(this.scoreID,instrument.partID) || [];\r\n        this.brass.push(brassList[list]);\r\n      }\r\n\r\n      //percussion\r\n      let percussionList = Object.values(this.parts.filter(f => f.partFamiliy == 'percussion'));\r\n\r\n      for(let list in percussionList){\r\n        const instrument = percussionList[list];\r\n        instrument.recordings = this.ensembleService.getRecordingsByPart(this.scoreID,instrument.partID) || [];\r\n        this.percussion.push(percussionList[list]);\r\n      }\r\n\r\n      //other\r\n      let otherList = Object.values(this.parts.filter(f => f.partFamiliy == 'other'));\r\n\r\n      for(let list in otherList){\r\n        const instrument = otherList[list];\r\n        instrument.recordings = this.ensembleService.getRecordingsByPart(this.scoreID,instrument.partID) || [];\r\n        this.other.push(otherList[list]);\r\n      }\r\n\r\n      this.getRecordings();\r\n\r\n    }\r\n  }\r\n  \r\n    getRecordings(){\r\n        //get recording by selected scoreID\r\n        //this.recordings= this.ensembleService.getRecordingsByScoreID(this.scoreID);\r\n          \r\n        //console.log(\"recordings by score: \",this.recordings);\r\n  \r\n        console.log('URL path: ',this.urlPath);\r\n        \r\n        //categories variables console output \r\n        console.log(\"Strings: \",this.strings);\r\n        console.log(\"Woodwind: \",this.woodwind);\r\n        console.log(\"Brass: \",this.brass);\r\n        console.log(\"Percussion: \",this.percussion);\r\n        console.log(\"other: \",this.other);\r\n        \r\n        console.log(\"string rec: \", this.strings.filter(f => f.recordings.length) );\r\n        console.log(\"woodwind rec: \", this.woodwind.filter(f => f.recordings.length));\r\n        console.log(\"brass rec: \", this.brass.filter(f => f.recordings.length));\r\n        console.log(\"percussion rec: \", this.percussion.filter(f => f.recordings.length));\r\n        \r\n    }\r\n\r\n  //To navigate to score page by the part selected by the user\r\n  partSelect(instrInPart:string){\r\n    // get selectedPart index from partName\r\n    this.selectedPart = this.parts.findIndex((p) => p.partName == instrInPart)+1;\r\n    console.log(\"selected part Index: \", this.selectedPart);\r\n    \r\n    //navigate by selectedPart\r\n    this.router.navigate(['tabs/tab2',this.scoreID,this.selectedPart]);\r\n\r\n  }\r\n\r\n  getArrayWithRecordings(array: Part[]): Part[]\r\n  {\r\n\r\n    return array.filter(a => a.recordings != null && a.recordings.length > 0) || [];\r\n  }\r\n\r\n  //To display only the family of instruments that are available in the score\r\n  //return true if available\r\n  //returns false if unavailable\r\n  checkParts(partName:string):boolean{\r\n    switch(partName){\r\n      case 'strings':{\r\n        if(this.strings.length < 1){\r\n          return false;\r\n        }\r\n        else return true;\r\n      }\r\n      case 'woodwind':{\r\n        if(this.woodwind.length < 1){\r\n          return false;\r\n        }\r\n        else return true;\r\n      }\r\n      case 'brass':{\r\n        if(this.brass.length < 1){\r\n          return false;\r\n        }\r\n        else return true;\r\n\r\n      }\r\n      case 'percussion':{\r\n        if(this.percussion.length < 1){\r\n          return false;\r\n        }\r\n        else return true;\r\n      }\r\n\r\n      case 'other':{\r\n        if(this.other.length < 1){\r\n          return false;\r\n        }\r\n        else return true;\r\n      }\r\n\r\n    }    \r\n  }\r\n\r\n  //check if recording is avialable on selected part\r\n  checkRecording(partName:string):boolean{    \r\n    switch(partName){\r\n      case 'strings':{\r\n        //console.log(\"Strings recoridings filter: \", this.strings.filter(f => f.recordings.length >= 1));\r\n\r\n        if(this.strings.filter(f => f.recordings.length >= 1).length >=1){          \r\n          console.log(\"String REC found !\");   \r\n          return true;\r\n        }\r\n        else  false;\r\n      }\r\n\r\n      case 'woodwind':{        \r\n        //console.log(\"woodings recoridings filter: \",this.woodwind.filter(f => f.recordings.length >= 1));\r\n        \r\n        if(this.woodwind.filter(f => f.recordings.length >= 1).length >=1){          \r\n          console.log(\"Woodwind REC found !\");   \r\n          return true;\r\n        }\r\n        else  false;\r\n\r\n      }\r\n      case 'brass':{\r\n        if(this.brass.filter(f => f.recordings.length >= 1).length >=1){          \r\n          console.log(\"brass REC found !\");   \r\n          return true;\r\n        }\r\n        else  false;\r\n\r\n      }\r\n      case 'percussion':{\r\n        if(this.percussion.filter(f => f.recordings.length >= 1).length >=1){          \r\n          console.log(\"percussion REC found !\");   \r\n          return true;\r\n        }\r\n        else  false;\r\n      }\r\n\r\n    }    \r\n  } \r\n\r\n  // play rec\r\n  playRec(recording:Recording){\r\n\r\n    if(!this.isPlaying){\r\n      this.sound.src=recording.base64;\r\n      this.sound.play();\r\n      this.isPlaying=true;\r\n      \r\n      console.log(\"Part ID of the audio played: \",recording.partID);\r\n      console.log(\"sound playing: \",this.sound);\r\n\r\n      this.sound.onended= () =>{\r\n        this.isPlaying=false;\r\n      }\r\n    }\r\n    \r\n    else{\r\n      this.sound.pause();\r\n      this.sound.currentTime = 0;\r\n      this.isPlaying=false;\r\n    }\r\n  \r\n  }\r\n\r\n\r\n  //event model\r\n  async eventModal(){\r\n    const modal = await this.modalCtrl.create({\r\n      component:NewEventComponent,\r\n      componentProps: {ensembleID:this.selectedScore.ensembleID, ensembleEvent:this.ensembleService.getEventsLength()},\r\n      cssClass:'eventModal'\r\n    })\r\n\r\n    await modal.present();\r\n  }\r\n\r\n  async close(){\r\n    await this.modalCtrl.dismiss();\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}